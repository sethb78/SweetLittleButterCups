$(document).ready(function(){


// Function adds hover background and radius to link's parent li.
  $('a').hover(function(){
    $( this ).parent('li').addClass( "hover" );
  }, function() {
    $( this ).parent('li').removeClass( "hover" );
  })
/* /Function adds hover background and radius to link's parent li. */


$('#carousel').carousel();

$('#carousel-indicators  a').click(function(q){
    q.preventDefault();
    targetSlide = $(this).attr('data-to')-1;
    $('#my-carousel').carousel(targetSlide);
});

/* Scrolling quotes */
$('.scrolling_quote').css({"display": "block"})
    var quotes = $(".quotes");
    var quoteIndex = -1;

    function showNextQuote() {
        ++quoteIndex;
        quotes.eq(quoteIndex % quotes.length)
            .fadeIn(1000)
            .delay('5000')
            .fadeOut(1000, showNextQuote);
    }
    showNextQuote();
/* /Scrolling quotes */

/* Add active class to navbar */
    $('a[href="' + this.location.pathname + '"]').parent().addClass('active');
/* /Add active class to navbar */

/* Format for phone number on contact form */
  $("#phone").mask("(999) 999-9999");
/* /Format for phone number on contact form */


$('.carousel h1.responsive-text').responsiveHeadlines({
        container: 'col-md-12',
        maxFontSize: 64,
        minFontSize: 22
    });


$('.carousel .item:first').addClass('active'); // Add .active to first carousel item


/* Set width of .header-contact-info to width of navbar so it centers correctly */
var NavbarWidth = $('.navbar-nav').width();
$('.header-contact-info').css("width", NavbarWidth );
 /* /Set width of .header-contact-info to width of navbar so it centers correctly */



// Carousel for > 768px devices
$(function() {
    var $l = $('#carousel-left'),
    $c = $('#carousel-center'),
    $r = $('#carousel-right');
    $l.carouFredSel({
    auto: false,
    items: 1,
    direction: 'right',
    prev: {
    button: '#prev',
    fx: 'uncover',
    onBefore: function() {
    setTimeout(function() {
    $c.trigger( 'prev' );
    }, 100);
    }
    },
    next: {
    fx: 'cover'
    }
    });
    $c.carouFredSel({
    auto: false,
    items: 1,
    prev: {
    onBefore: function() {
    setTimeout(function() {
    $r.trigger( 'prev' );
    }, 100);
    }
    },
    next: {
    onBefore: function() {
    setTimeout(function() {
    $l.trigger( 'next' );
    }, 100);
    }
    }
    });
    $r.carouFredSel({
    auto: false,
    items: 1,
    prev: {
    fx: 'cover'
    },
    next: {
    button: '#next',
    fx: 'uncover',
    onBefore: function() {
    setTimeout(function() {
    $c.trigger( 'next' );
    }, 100);
    }
    }
    });
});
// End of Carousel for > 768px devices

// Carousel for <= 768px devices
$('#caroufredsel').carouFredSel({
    infinite: true,
    auto: false,
    pagination: false,
    prev: {
        button: '#prev',
        key: 'left'
    },
    swipe: {
        onTouch: true,
        onMouse: true
    },
    next: {
        button: '#next',
        key: 'right'
    },
    items: {
        visible: 'variable'
    }
});
// End of Carousel for <= 768px devices


// Dynamically get each center slide's title and display as header
$(function Carousel_Header() {
    $('#wrapper h1#carousel-center-title').show();
    $('.carousel-center-title').html($('#carousel-center-slide').data('slide'));

    $('#next').click(function(){
        $('.carousel-center-title').html($('#carousel-center-slide').next().data('slide'));
    });
    $('#prev').click(function(){
        var image_count = ($('#wrapper #carousel-center img').size())-1;
        var current_slide = $("#carousel-center-slide");
        for(var i = 0; i < image_count; i++) {
            current_slide = current_slide.next();
            $('.carousel-center-title').html($(current_slide).data('slide'));
        }
    });
});
// End of Carousel_Header function


//  In Baked Goods catalog page
//  1.  Get height of largest image.
//  2.  Iterate through each image.
//  3.  Subtract current image height from largest image.
//  4.  Make top and bottom margin 1/2 the difference.
//  5.  In Mobile display make h1 height the same as image and vertically center.
(function() {
    var max_height = 0;
    var image = null;

    $('.static_pages_baked_goods .thumbnail img').each(function() {
        var cur_height = $(this).height();
        if (cur_height > max_height) {
            max_height = cur_height;
            image = this;
        }
    });
    $('.static_pages_baked_goods .thumbnail img').each(function() {
        var cur_height = $(this).height();
        if (cur_height < max_height) {
            $(this).css("margin-top", (max_height - cur_height)/2).css("margin-bottom", (max_height - cur_height)/2);
        }            
        if ( $(window).width() < 769) { 
            $('.col-sm-12 h1').css({"height": max_height, "display": "table-cell", "vertical-align": "middle", "margin-top": "0", "padding-left": "2px"});
        }
    });
})();



})



